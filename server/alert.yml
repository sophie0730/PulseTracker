groups:
- name: server_is_down
  rules:
  - alert: server_is_down
    expr: 'fn: (r) => r.item == "up" and r._value == 0'
    for: 15s
    annotations:
      summary: Server(s) are down.

- name: memory_is_35
  rules:
  - alert: memory_is_35
    expr: 'fn: (r) => r.item == "memory_usage" and r._value > 35'
    for: 40s
    annotations:
      summary: Memory usage rate > 35

- name: cpu_average_usage_greater_0.1
  rules:
  - alert: cpu_average_usage_greater_0.1
    expr: 'fn: (r) => r.item == "cpu_average_usage" and r._value > 0.1'
    for: 20s
    annotations:
      summary: cpu_average_usage is greater than 0.1
